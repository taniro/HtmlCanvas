<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Exemplo de canvas com jpeg</title>
	</head>
	<body>
		<canvas id="tela" width="500" height="500">Canvas não suportado</canvas>
	</body>
	<script type="text/javascript">
		let canvas = document.getElementById("tela");
		let ctx = canvas.getContext("2d");
		const imagem = new Image();
		imagem.src = "character.png";

		const largura = 16;
		const altura = 32;

		imagem.onload = function () {
			//ctx.drawImage(imagem, 0, 0)
			ctx.drawImage(
				imagem,
				largura,
				0,
				largura,
				altura,
				0,
				0,
				largura,
				altura
			);
		};

		let i = 0;
		function rungame() {
			ctx.clearRect(0, 0, 500, 500);
			ctx.drawImage(
				imagem,
				largura * i,
				0,
				largura,
				altura,
				0,
				0,
				largura,
				altura
			);
			i++;
			if (i === 4) {
				i = 0;
			}
		}

		let run = setInterval(rungame, 250);
	</script>
</html>
